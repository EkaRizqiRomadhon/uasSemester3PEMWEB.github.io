<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>HMNS Katalog</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="logo"><a href="index.html">ARVEN PARFUME</a></div>
    <div class="header-right-nav">
        <nav>
            <ul>
                <li><a href="koleksi.html">KEMBALI</a></li>
                <li>
                    <a href="cart.html" class="cart-icon" title="Keranjang">
                        ðŸ›’
                        <span id="cartBadge" class="cart-badge" style="display:none">0</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<section class="page-container">
    <h1>HMNS<br>Parfume Collection</h1>

    <div class="perfume-grid">

        <!-- HMNS Alpha -->
        <div class="perfume-card">
            <img src="img/hmns_alpha.png" alt="HMNS Alpha">
            <h3>HMNS Alpha</h3>
            <p class="price">Rp 320.000</p>
            <p>Segar, modern, clean â€“ citrus & marine.</p>

            <button class="add-to-cart"
                data-id="hmns-alpha"
                data-name="HMNS Alpha"
                data-price="320000"
                data-img="img/hmns_alpha.png">
                Tambah ke Keranjang
            </button>
        </div>

        <!-- HMNS Orgasm -->
        <div class="perfume-card">
            <img src="img/hmns_orgasm.jpg" alt="HMNS Orgasm">
            <h3>HMNS Orgasm</h3>
            <p class="price">Rp 370.000</p>
            <p>Woodyâ€“aromatic yang clean dan elegan.</p>

            <button class="add-to-cart"
                data-id="hmns-orgasm"
                data-name="HMNS Orgasm"
                data-price="370000"
                data-img="img/hmns_orgasm.jpg">
                Tambah ke Keranjang
            </button>
        </div>

        <!-- HMNS Farhampthon -->
        <div class="perfume-card">
            <img src="img/hmns_farhampthon.png" alt="HMNS Farhampthon">
            <h3>HMNS Farhampthon</h3>
            <p class="price">Rp 370.000</p>
            <p>Hangat, spicy, dan sensual.</p>

            <button class="add-to-cart"
                data-id="hmns-farhampthon"
                data-name="HMNS Farhampthon"
                data-price="370000"
                data-img="img/hmns_farhampthon.png">
                Tambah ke Keranjang
            </button>
        </div>

    </div>
</section>

<script>
function readCart() {
    return JSON.parse(localStorage.getItem('arven_cart_v1')) || [];
}

function writeCart(cart) {
    localStorage.setItem('arven_cart_v1', JSON.stringify(cart));
    updateBadge();
}

function getCartCount() {
    return readCart().reduce((sum, item) => sum + item.qty, 0);
}

function updateBadge() {
    const badge = document.getElementById('cartBadge');
    const count = getCartCount();
    if (count > 0) {
        badge.style.display = 'inline-flex';
        badge.textContent = count;
    } else {
        badge.style.display = 'none';
    }
}

function addToCart(item) {
    const cart = readCart();
    const found = cart.find(p => p.id === item.id);

    if (found) {
        found.qty++;
    } else {
        cart.push({ ...item, qty: 1 });
    }

    writeCart(cart);
    alert(item.name + " berhasil ditambahkan ke keranjang!");
}

document.addEventListener('DOMContentLoaded', () => {
    updateBadge();

    document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', () => {
            addToCart({
                id: btn.dataset.id,
                name: btn.dataset.name,
                price: Number(btn.dataset.price),
                image: btn.dataset.img
            });
        });
    });
});
</script>

</body>
</html>
