<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>YSL Katalog</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <header id="siteHeader">
      <div class="logo"><a href="index.html">ARVEN PARFUME</a></div>
      <div class="header-right-nav">
        <nav>
          <ul>
            <li><a href="index.html">BERANDA</a></li>
            <li><a href="about.html">TENTANG KAMI</a></li>
            <li><a href="koleksi.html">KOLEKSI</a></li>
            <li><a href="contact.html">KONTAK</a></li>

            <li>
              <a
                href="cart.html"
                class="icon"
                title="Keranjang"
                style="
                  position: relative;
                  text-decoration: none;
                  color: inherit;
                  display: flex;
                  align-items: center;
                "
              >
                <i class="fas fa-shopping-cart"></i>
                <span
                  id="cartBadge"
                  class="cart-badge"
                  style="
                    display: none;
                    position: absolute;
                    top: -8px;
                    right: -8px;
                    background: #a38b5d; /* Menggunakan Hex kode emas langsung jika var(--gold) tidak terbaca di css about */
                    color: #000;
                    border-radius: 50%;
                    font-size: 10px;
                    padding: 0;
                    width: 16px;
                    height: 16px;
                    justify-content: center;
                    align-items: center;
                    font-weight: bold;
                  "
                  >0</span
                >
              </a>
            </li>
          </ul>
        </nav>

        <div class="header-icons"></div>
      </div>
    </header>

    <section class="page-container">
      <h1>Yves Saint Laurent<br />Parfume Collection</h1>

      <div class="perfume-grid">
        <!-- YSL Y EDP -->
        <div class="perfume-card">
          <img src="img/ysl_y_edp.jpg" alt="YSL Y EDP" />
          <h3>YSL Y Eau de Parfum</h3>
          <p class="price">Rp 1.800.000</p>
          <p>Parfum maskulin modern, segar dan clean.</p>

          <button
            class="add-to-cart"
            data-id="ysl-y-edp"
            data-name="YSL Y Eau de Parfum"
            data-price="1800000"
            data-img="img/ysl_y_edp.jpg"
          >
            Tambah ke Keranjang
          </button>
        </div>

        <!-- La Nuit De L'Homme -->
        <div class="perfume-card">
          <img src="img/ysl_lanuit.jpg" alt="La Nuit De L'Homme" />
          <h3>La Nuit De L'Homme</h3>
          <p class="price">Rp 2.500.000</p>
          <p>Parfum malam sensual dan warm.</p>

          <button
            class="add-to-cart"
            data-id="ysl-lanuit"
            data-name="YSL La Nuit De L'Homme"
            data-price="2500000"
            data-img="img/ysl_lanuit.jpg"
          >
            Tambah ke Keranjang
          </button>
        </div>

        <!-- YSL L'Homme -->
        <div class="perfume-card">
          <img src="img/ysl_lhomme.jpg" alt="YSL L'Homme" />
          <h3>YSL L'Homme</h3>
          <p class="price">Rp 1.700.000</p>
          <p>Fresh woody yang classy dan elegant.</p>

          <button
            class="add-to-cart"
            data-id="ysl-lhomme"
            data-name="YSL L'Homme"
            data-price="1700000"
            data-img="img/ysl_lhomme.jpg"
          >
            Tambah ke Keranjang
          </button>
        </div>

        <!-- YSL Y Le Parfum -->
        <div class="perfume-card">
          <img src="img/ysl_y_leparfum.jpg" alt="YSL Y Le Parfum" />
          <h3>YSL Y Le Parfum</h3>
          <p class="price">Rp 2.848.000</p>
          <p>Versi intense dan lebih gelap.</p>

          <button
            class="add-to-cart"
            data-id="ysl-y-leparfum"
            data-name="YSL Y Le Parfum"
            data-price="2848000"
            data-img="img/ysl_y_leparfum.jpg"
          >
            Tambah ke Keranjang
          </button>
        </div>

        <!-- YSL Kouros -->
        <div class="perfume-card">
          <img src="img/ysl_kouros.png" alt="YSL Kouros" />
          <h3>YSL Kouros</h3>
          <p class="price">Rp 1.233.000</p>
          <p>Klasik maskulin dengan karakter kuat.</p>

          <button
            class="add-to-cart"
            data-id="ysl-kouros"
            data-name="YSL Kouros"
            data-price="1233000"
            data-img="img/ysl_kouros.png"
          >
            Tambah ke Keranjang
          </button>
        </div>

        <!-- YSL Black Opium -->
        <div class="perfume-card">
          <img src="img/ysl_BlackOpium.jpg" alt="YSL Black Opium" />
          <h3>YSL Black Opium</h3>
          <p class="price">Rp 1.644.000</p>
          <p>Manis, bold, dan addictive.</p>

          <button
            class="add-to-cart"
            data-id="ysl-black-opium"
            data-name="YSL Black Opium"
            data-price="1644000"
            data-img="img/ysl_BlackOpium.jpg"
          >
            Tambah ke Keranjang
          </button>
        </div>
      </div>
    </section>

    <script>
      function readCart() {
        return JSON.parse(localStorage.getItem("arven_cart_v1")) || [];
      }

      function writeCart(cart) {
        localStorage.setItem("arven_cart_v1", JSON.stringify(cart));
        updateBadge();
      }

      function getCartCount() {
        return readCart().reduce((sum, item) => sum + item.qty, 0);
      }

      function updateBadge() {
        const badge = document.getElementById("cartBadge");
        const count = getCartCount();
        if (count > 0) {
          badge.style.display = "inline-flex";
          badge.textContent = count;
        } else {
          badge.style.display = "none";
        }
      }

      function addToCart(item) {
        const cart = readCart();
        const found = cart.find((p) => p.id === item.id);

        if (found) {
          found.qty++;
        } else {
          cart.push({ ...item, qty: 1 });
        }

        writeCart(cart);
        alert(item.name + " berhasil ditambahkan ke keranjang!");
      }

      document.addEventListener("DOMContentLoaded", () => {
        updateBadge();

        document.querySelectorAll(".add-to-cart").forEach((btn) => {
          btn.addEventListener("click", () => {
            addToCart({
              id: btn.dataset.id,
              name: btn.dataset.name,
              price: Number(btn.dataset.price),
              image: btn.dataset.img,
            });
          });
        });
      });
    </script>
    <script src="navbar.js"></script>
  </body>
</html>
