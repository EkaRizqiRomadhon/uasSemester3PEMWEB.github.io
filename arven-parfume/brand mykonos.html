<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Mykonos Katalog</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="logo"><a href="index.html">ARVEN PARFUME</a></div>
    <div class="header-right-nav">
        <nav>
            <ul>
                <li><a href="koleksi.html">KEMBALI</a></li>
                <li>
                    <a href="cart.html" class="cart-icon" title="Keranjang">
                        ðŸ›’
                        <span id="cartBadge" class="cart-badge" style="display:none">0</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<section class="page-container">
    <h1>Mykonos<br>Parfume Collection</h1>

    <div class="perfume-grid">

        <!-- Aphrodite -->
        <div class="perfume-card">
            <img src="img/mykonos_aphrodite.png" alt="Mykonos Aphrodite">
            <h3>Aphrodite</h3>
            <p class="price">Rp 250.000</p>
            <p>Aroma pantai yang segar, citrus & sea-breeze.</p>
            <button class="add-to-cart"
                data-id="mykonos-aphrodite"
                data-name="Mykonos Aphrodite"
                data-price="250000"
                data-img="img/mykonos_aphrodite.png">
                Tambah ke Keranjang
            </button>
        </div>

        <!-- Luminos -->
        <div class="perfume-card">
            <img src="img/mykonos_luminos.png" alt="Mykonos Luminos">
            <h3>Luminos</h3>
            <p class="price">Rp 150.000</p>
            <p>Ringan dan segar untuk aktivitas outdoor.</p>
            <button class="add-to-cart"
                data-id="mykonos-luminos"
                data-name="Mykonos Luminos"
                data-price="150000"
                data-img="img/mykonos_luminos.png">
                Tambah ke Keranjang
            </button>
        </div>

        <!-- Monaco Royal -->
        <div class="perfume-card">
            <img src="img/mykonos_monaco royal.jpg" alt="Mykonos Monaco Royal">
            <h3>Monaco Royal</h3>
            <p class="price">Rp 150.000</p>
            <p>Versi malam yang hangat dan sensual.</p>
            <button class="add-to-cart"
                data-id="mykonos-monaco"
                data-name="Mykonos Monaco Royal"
                data-price="150000"
                data-img="img/mykonos_monaco royal.jpg">
                Tambah ke Keranjang
            </button>
        </div>

        <!-- Glitch -->
        <div class="perfume-card">
            <img src="img/mykonos_glitch.png" alt="Mykonos Glitch">
            <h3>Glitch</h3>
            <p class="price">Rp 250.000</p>
            <p>Fresh modern scent dengan karakter unik.</p>
            <button class="add-to-cart"
                data-id="mykonos-glitch"
                data-name="Mykonos Glitch"
                data-price="250000"
                data-img="img/mykonos_glitch.png">
                Tambah ke Keranjang
            </button>
        </div>

        <!-- Enchanted -->
        <div class="perfume-card">
            <img src="img/mykonos_enchanted.png" alt="Mykonos Enchanted">
            <h3>Enchanted</h3>
            <p class="price">Rp 150.000</p>
            <p>Soft & elegant untuk daily use.</p>
            <button class="add-to-cart"
                data-id="mykonos-enchanted"
                data-name="Mykonos Enchanted"
                data-price="150000"
                data-img="img/mykonos_enchanted.png">
                Tambah ke Keranjang
            </button>
        </div>

    </div>
</section>

<script>
function readCart() {
    return JSON.parse(localStorage.getItem('arven_cart_v1')) || [];
}

function writeCart(cart) {
    localStorage.setItem('arven_cart_v1', JSON.stringify(cart));
    updateBadge();
}

function getCartCount() {
    return readCart().reduce((sum, item) => sum + item.qty, 0);
}

function updateBadge() {
    const badge = document.getElementById('cartBadge');
    const count = getCartCount();
    if (count > 0) {
        badge.style.display = 'inline-flex';
        badge.textContent = count;
    } else {
        badge.style.display = 'none';
    }
}

function addToCart(item) {
    const cart = readCart();
    const found = cart.find(p => p.id === item.id);

    if (found) {
        found.qty++;
    } else {
        cart.push({ ...item, qty: 1 });
    }

    writeCart(cart);
    alert(item.name + " berhasil ditambahkan ke keranjang!");
}

document.addEventListener('DOMContentLoaded', () => {
    updateBadge();

    document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', () => {
            addToCart({
                id: btn.dataset.id,
                name: btn.dataset.name,
                price: Number(btn.dataset.price),
                image: btn.dataset.img
            });
        });
    });
});
</script>

</body>
</html>
